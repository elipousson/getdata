<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Use osmdata functions to query OSM data by adjusted bounding box or
by enclosing ways/relations around the center of a location."><title>Use osmdata to get Open Street Map data for a location — get_osm_data • getdata</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Use osmdata to get Open Street Map data for a location — get_osm_data"><meta property="og:description" content="Use osmdata functions to query OSM data by adjusted bounding box or
by enclosing ways/relations around the center of a location."><meta property="og:image" content="https://elipousson.github.io/getdata/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">getdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/elipousson/getdata/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Use osmdata to get Open Street Map data for a location</h1>
      <small class="dont-index">Source: <a href="https://github.com/elipousson/getdata/blob/HEAD/R/get_osm_data.R" class="external-link"><code>R/get_osm_data.R</code></a></small>
      <div class="d-none name"><code>get_osm_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Use <code>osmdata</code> functions to query OSM data by adjusted bounding box or
by enclosing ways/relations around the center of a location.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_osm_data</span><span class="op">(</span></span>
<span>  location <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  diag_ratio <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  asp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">key</span>,</span>
<span>  value <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  features <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geometry <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  osmdata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  enclosing <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nodes_only <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_osm_id</span><span class="op">(</span><span class="va">id</span>, type <span class="op">=</span> <span class="cn">NULL</span>, crs <span class="op">=</span> <span class="cn">NULL</span>, geometry <span class="op">=</span> <span class="cn">NULL</span>, osmdata <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_osm_boundaries</span><span class="op">(</span></span>
<span>  <span class="va">location</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lang <span class="op">=</span> <span class="st">"en"</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  enclosing <span class="op">=</span> <span class="st">"relation"</span>,</span>
<span>  geometry <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  osmdata <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>location</dt>
<dd><p>A <code>sf</code>, <code>sfc</code>, or <code>bbox</code> object.</p></dd>


<dt>dist</dt>
<dd><p>buffer distance in units. Optional.</p></dd>


<dt>diag_ratio</dt>
<dd><p>ratio of diagonal distance of area's bounding box used as
buffer distance. e.g. if the diagonal distance is 3000 meters and the
"diag_ratio = 0.1"  a 300 meter will be used. Ignored when <code>dist</code> is
provided.</p></dd>


<dt>unit</dt>
<dd><p>Units for buffer. Supported options include "meter", "foot",
"kilometer", and "mile", "nautical mile" Common abbreviations (e.g. "km"
instead of "kilometer") are also supported. Distance in units is converted
to units matching GDAL units for x; defaults to "meter"</p></dd>


<dt>asp</dt>
<dd><p>Aspect ratio of width to height as a numeric value (e.g. 0.33) or
character (e.g. "1:3"). If numeric, <code><a href="https://elipousson.github.io/sfext/reference/get_asp.html" class="external-link">get_asp()</a></code> returns the same value
without modification.</p></dd>


<dt>key</dt>
<dd><p>Feature key for overpass API query.</p></dd>


<dt>value</dt>
<dd><p>Value of the feature key; can be negated with an initial
exclamation mark, <code>value = "!this"</code>, and can also be a vector, <code>value = c("this", "that")</code>. If <code>value = "all"</code> or if <code>key = "building"</code> the values
passed to the osmdata package are from a preset list extracted from
<code><a href="https://docs.ropensci.org/osmdata/reference/available_tags.html" class="external-link">osmdata::available_tags()</a></code>.</p></dd>


<dt>features</dt>
<dd><p>Character vector of key-value pairs with keys and values
enclosed in escape-formatted quotations (see examples).</p></dd>


<dt>crs</dt>
<dd><p>Coordinate reference system for output data; if <code>NULL</code>, the data
remains in the Open Street Map coordinate reference system 4326. Default:
<code>NULL</code>.</p></dd>


<dt>geometry</dt>
<dd><p>Geometry type to output ("polygons", "points", "lines",
"multilines", or "multipolygons"); if multiple geometry types are needed
set osmdata to <code>TRUE.</code> Default <code>NULL</code>.</p></dd>


<dt>osmdata</dt>
<dd><p>If <code>TRUE</code> return a <code>osmdata</code> class object that includes the
overpass API call, metadata including timestamp and version numbers, and
all available geometry types; defaults to <code>FALSE</code>.</p></dd>


<dt>enclosing</dt>
<dd><p>If enclosing is "relation" or "way", this function uses the
<code><a href="https://docs.ropensci.org/osmdata/reference/opq_enclosing.html" class="external-link">osmdata::opq_enclosing()</a></code> to query the OSM data (instead of
<code><a href="https://docs.ropensci.org/osmdata/reference/add_osm_feature.html" class="external-link">osmdata::add_osm_feature()</a></code>. Defaults to <code>NULL</code>. When the enclosing
parameter is provided, the dist, diag_ratio, asp, and unit parameters are
ignored and the center of the provided location is used for the query.
geometry is set automatically based enclosing with "relation" using
"multipolygons" and "way" using "polygons" geometry.</p></dd>


<dt>nodes_only</dt>
<dd><p>If <code>TRUE</code>, query OSM nodes only. Some OSM structures such
as <code>place = "city"</code> or <code>highway = "traffic_signals"</code> are represented by
nodes only. Queries are built by default to return all nodes, ways, and
relation, but this can be very inefficient for node-only queries.
Setting this value to <code>TRUE</code> for such cases makes queries more
efficient, with data returned in the <code>osm_points</code> list item.</p></dd>


<dt>id</dt>
<dd><p>OpenStreetMap feature id</p></dd>


<dt>type</dt>
<dd><p>type of feature with id; "node", "way", or "relation"</p></dd>


<dt>level</dt>
<dd><p>administrative level (admin_level) of boundary to return;
defaults to <code>NULL</code>. See <a href="https://wiki.openstreetmap.org/wiki/Key:admin_level" class="external-link">https://wiki.openstreetmap.org/wiki/Key:admin_level</a>
for more information. Only used for get_osm_boundaries.</p></dd>


<dt>lang</dt>
<dd><p>Language for boundary names to include in resulting data frame
(e.g. "en" for English or "es" for Spanish). Default language names should
always be included in results. Defaults to "en". See
<a href="https://wiki.openstreetmap.org/wiki/Multilingual_names" class="external-link">https://wiki.openstreetmap.org/wiki/Multilingual_names</a> for more
information.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A simple feature object with features using selected geometry type or
an <code>osmdata</code> object with features from all geometry types.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

