<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get Easy Access to Tabular and Spatial Data • getdata</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Get Easy Access to Tabular and Spatial Data">
<meta name="description" content="Download and format spatial and non-spatial data with simple filtering by location.">
<meta property="og:description" content="Download and format spatial and non-spatial data with simple filtering by location.">
<meta property="og:image" content="https://elipousson.github.io/getdata/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">getdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/elipousson/getdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="getdata-">getdata 
<a class="anchor" aria-label="anchor" href="#getdata-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of {getdata} is to make the experience of getting location data easier and more consistent across a wide variety of sources. {getdata} started as part of the <a href="https://elipousson.github.io/overedge/" class="external-link">{overedge}</a> package along with <a href="https://elipousson.github.io/maplayer/" class="external-link">{maplayer}</a> and <a href="https://elipousson.github.io/sfext/" class="external-link">{sfext}</a>.</p>
<p>{getdata} is designed to work well with location-specific data packages such as <a href="https://elipousson.github.io/mapmaryland/" class="external-link">{mapmaryland}</a> and <a href="https://elipousson.github.io/mapbaltimore/" class="external-link">{mapbaltimore}</a> and to support reproducible approaches to map-making and place-based data analysis. Using data access functions from {sfext} and additional API wrapper functions, this package supports data access for sources including:</p>
<ul>
<li>ArcGIS FeatureServer and MapServer layers (using <a href="https://github.com/yonghah/esri2sf" class="external-link">{esri2sf}</a>)</li>
<li>U.S. Census Bureau data (using <a href="https://github.com/walkerke/tigris" class="external-link">{tigris}</a>)</li>
<li>OpenStreetMap (using <a href="https://docs.ropensci.org/osmdata/" class="external-link">{osmdata}</a>)</li>
<li>Socrata Open Data resources (using <a href="https://github.com/Chicago/RSocrata" class="external-link">{RSocrata</a>})</li>
<li>Google Sheets (using <a href="https://googlesheets4.tidyverse.org/" class="external-link">{googlesheets4}</a>)</li>
<li>Flickr photos (using <a href="https://koki25ando.github.io/FlickrAPI/" class="external-link">{FlickrAPI}</a>)</li>
<li>Static map images from Mapbox (using <a href="https://walker-data.com/mapboxapi/" class="external-link">{mapboxapi}</a>)</li>
<li>Airtable bases (using {httr2} and the <a href="https://airtable.com/api" class="external-link">Airtable API</a>)</li>
<li>Wikipedia articles (using {httr2} and the <a href="https://www.mediawiki.org/wiki/Extension:GeoData" class="external-link">Wikipedia Geosearch API</a>)</li>
<li>Other spatial data sources including Google MyMaps, GitHub gists, and any data source already supported by <a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">sf::read_sf()</a> (see <a href="https://elipousson.github.io/sfext/reference/read_sf_ext.html" class="external-link">sfext::read_sf_ext()</a> for more details)</li>
</ul>
<p>The advantage of using {getdata} is that it provides a consistent interface for using a location to create a bounding box for spatial filtering. Many functions also support querying spatial data by name or id. Where possible, a spatial filter is used before importing or downloading data to avoid the need to load large data files when you are only need a small area. The package also provides a consistent approach for handling API tokens and keys and for caching data locally (see <a href="https://elipousson.github.io/getdata/reference/set_access_token.html">set_access_token()</a> or <a href="https://elipousson.github.io/sfext/reference/get_data_dir.html" class="external-link">filenamr::get_data_dir()</a> for more details).</p>
<p>The related {sfext} package allows {getdata} to supports the easy conversion of tabular data into spatial data. For example, if the source data has coordinates, you can convert the data into an sf object. If data has an address column, you can geocode the data using the <a href="https://jessecambon.github.io/tidygeocoder/" class="external-link">{tidygeocoder}</a> package. If the data has a location name column, such as “neighborhood”, you can join the data to a simple feature object with the related geometry. You also can turn off these options by setting <code>geometry = FALSE</code> for most data access functions.</p>
<p>Lastly, the <a href="https://elipousson.github.io/getdata/reference/format_data.html">format_data()</a> and <a href="https://elipousson.github.io/getdata/reference/format_sf_data.html">format_sf_data()</a> functions provide convenient options for working with the data after it is downloaded. While advanced R users may prefer to create more custom formatting scripts, these functions are designed to support the creation of custom data formatting and access functions such as <a href="https://elipousson.github.io/mapmaryland/reference/format_md_sf.html" class="external-link">format_md_crash_data()</a> and <a href="https://elipousson.github.io/mapmaryland/reference/get_md_open_data.html" class="external-link">get_md_crash_data()</a>.</p>
<p>Fair warning: this package is <em>not</em> optimized for speed and I have no plans to submit it to CRAN. This package imports {rlang} for both non-standard evaluation and error handling and relies on {dplyr}, {purrr}, and other tidyverse packages. Suggestions for additional data sources to support, new functions, or improvements to existing functions are welcome.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of getdata like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"elipousson/getdata"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p><code><a href="reference/get_location_data.html">get_location_data()</a></code> is a flexible function for reading and subsetting data. In this example, data is a file path but it can also be a URL, the name of a data set in another package, or a sf object.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/elipousson/getdata" class="external-link">getdata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span>
<span><span class="co"># location is optional</span></span>
<span><span class="va">nc</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_location_data.html">get_location_data</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shape/nc.shp"</span>, package <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can use <a href="https://elipousson.github.io/getdata/reference/">get_location()</a> to get a specific location from a larger simple feature collection that includes a specific type of locations, such as counties in North Carolina. The most basic approach is filtering by name or id:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get_location works with a type sf object and name and id values</span></span>
<span><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_location.html">get_location</a></span><span class="op">(</span>type <span class="op">=</span> <span class="va">nc</span>, name <span class="op">=</span> <span class="st">"Warren"</span>, name_col <span class="op">=</span> <span class="st">"NAME"</span><span class="op">)</span></span></code></pre></div>
<p>You can then access data within or around this specific location. For example, <code><a href="reference/get_location_data.html">get_location_data()</a></code> can return all counties within a quarter-mile of Warren County.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nearby_counties</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_location_data.html">get_location_data</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">nc</span>,</span>
<span>  location <span class="op">=</span> <span class="va">location</span>,</span>
<span>  dist <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  unit <span class="op">=</span> <span class="st">"mi"</span>,</span>
<span>  crop <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">nearby_counties</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 6</span></span>
<span><span class="co">#&gt; Columns: 15</span></span>
<span><span class="co">#&gt; $ AREA      &lt;dbl&gt; 0.153, 0.118, 0.072, 0.190, 0.128, 0.142</span></span>
<span><span class="co">#&gt; $ PERIMETER &lt;dbl&gt; 2.206, 1.421, 1.085, 2.204, 1.554, 1.640</span></span>
<span><span class="co">#&gt; $ CNTY_     &lt;dbl&gt; 1832, 1836, 1842, 1846, 1897, 1913</span></span>
<span><span class="co">#&gt; $ CNTY_ID   &lt;dbl&gt; 1832, 1836, 1842, 1846, 1897, 1913</span></span>
<span><span class="co">#&gt; $ NAME      &lt;chr&gt; "Northampton", "Warren", "Vance", "Halifax", "Franklin", "Na…</span></span>
<span><span class="co">#&gt; $ FIPS      &lt;chr&gt; "37131", "37185", "37181", "37083", "37069", "37127"</span></span>
<span><span class="co">#&gt; $ FIPSNO    &lt;dbl&gt; 37131, 37185, 37181, 37083, 37069, 37127</span></span>
<span><span class="co">#&gt; $ CRESS_ID  &lt;int&gt; 66, 93, 91, 42, 35, 64</span></span>
<span><span class="co">#&gt; $ BIR74     &lt;dbl&gt; 1421, 968, 2180, 3608, 1399, 4021</span></span>
<span><span class="co">#&gt; $ SID74     &lt;dbl&gt; 9, 4, 4, 18, 2, 8</span></span>
<span><span class="co">#&gt; $ NWBIR74   &lt;dbl&gt; 1066, 748, 1179, 2365, 736, 1851</span></span>
<span><span class="co">#&gt; $ BIR79     &lt;dbl&gt; 1606, 1190, 2753, 4463, 1863, 5189</span></span>
<span><span class="co">#&gt; $ SID79     &lt;dbl&gt; 3, 2, 6, 17, 0, 7</span></span>
<span><span class="co">#&gt; $ NWBIR79   &lt;dbl&gt; 1197, 844, 1492, 2980, 950, 2274</span></span>
<span><span class="co">#&gt; $ geometry  &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-77.21767 3..., MULTIPOLYGON (((-78.30876 3.…</span></span></code></pre></div>
<p>This same approach of using names as an attribute query or locations with buffers as a spatial filter works for most functions in this package. You can access data from OpenStreetMap:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">county_parks</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_osm_data.html">get_osm_data</a></span><span class="op">(</span></span>
<span>  location <span class="op">=</span> <span class="va">nearby_counties</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>,</span>
<span>  asp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  key <span class="op">=</span> <span class="st">"leisure"</span>,</span>
<span>  value <span class="op">=</span> <span class="st">"park"</span>,</span>
<span>  geometry <span class="op">=</span> <span class="st">"polygons"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ OpenStreetMap data is licensed under the Open Database License (ODbL).</span></span>
<span><span class="co">#&gt;   Attribution is required if you use this data.</span></span>
<span><span class="co">#&gt; • Learn more about the ODbL and OSM attribution requirements at</span></span>
<span><span class="co">#&gt;   &lt;https://www.openstreetmap.org/copyright&gt;</span></span>
<span><span class="co">#&gt; This message is displayed once every 8 hours.</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">county_parks</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 41</span></span>
<span><span class="co">#&gt; Columns: 27</span></span>
<span><span class="co">#&gt; $ osm_id                    &lt;chr&gt; "33006375", "33006525", "33006552", "3300661…</span></span>
<span><span class="co">#&gt; $ name                      &lt;chr&gt; "Dwight Hall Recreation Park", "Rochelle Par…</span></span>
<span><span class="co">#&gt; $ `NHD:FCode`               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `NHD:FDate`               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `NHD:FTYPE`               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ access                    &lt;chr&gt; "yes", "yes", "yes", "yes", "yes", "yes", "y…</span></span>
<span><span class="co">#&gt; $ `addr:city`               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `addr:housenumber`        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `addr:postcode`           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `addr:state`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `addr:street`             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ area                      &lt;chr&gt; NA, NA, "yes", NA, NA, NA, NA, NA, NA, "yes"…</span></span>
<span><span class="co">#&gt; $ ele                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `gnis:county_id`          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `gnis:created`            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `gnis:feature_id`         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `gnis:state_id`           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ leisure                   &lt;chr&gt; "park", "park", "park", "park", "park", "par…</span></span>
<span><span class="co">#&gt; $ `name:etymology:wikidata` &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ `nconemap:OWNER`          &lt;chr&gt; "GASTON", "ROANOKE RAPIDS", "ROANOKE RAPIDS"…</span></span>
<span><span class="co">#&gt; $ opening_hours             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ operator                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ ownership                 &lt;chr&gt; "municipal", "municipal", "municipal", "muni…</span></span>
<span><span class="co">#&gt; $ phone                     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ source                    &lt;chr&gt; "NCOnemap", "NCOnemap", "NCOnemap", "NCOnema…</span></span>
<span><span class="co">#&gt; $ wikidata                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ geometry                  &lt;POLYGON [°]&gt; POLYGON ((-77.64057 36.4935..., POLY…</span></span></code></pre></div>
<p>You can also access data from any public ArcGIS MapServer or FeatureServer layers:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nps_park_url</span> <span class="op">&lt;-</span> <span class="st">"https://carto.nationalmap.gov/arcgis/rest/services/govunits/MapServer/29"</span></span>
<span></span>
<span><span class="va">nps_park</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_esri_data.html">get_esri_data</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="va">nps_park_url</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Cape Lookout National Seashore"</span>,</span>
<span>  name_col <span class="op">=</span> <span class="st">"NAME"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">nps_park</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1</span></span>
<span><span class="co">#&gt; Columns: 21</span></span>
<span><span class="co">#&gt; $ objectid              &lt;int&gt; 197631</span></span>
<span><span class="co">#&gt; $ permanent_identifier  &lt;chr&gt; "d9eec3c0-ae13-4ef9-a17b-dc4858cd39d4"</span></span>
<span><span class="co">#&gt; $ source_featureid      &lt;chr&gt; "CALO"</span></span>
<span><span class="co">#&gt; $ source_datasetid      &lt;chr&gt; "{562524A1-7D6A-40EA-AA44-2E9AEF4488EB}"</span></span>
<span><span class="co">#&gt; $ source_datadesc       &lt;chr&gt; "National Park Boundaries 3/2020"</span></span>
<span><span class="co">#&gt; $ source_originator     &lt;chr&gt; "National Park Service"</span></span>
<span><span class="co">#&gt; $ data_security         &lt;int&gt; 5</span></span>
<span><span class="co">#&gt; $ distribution_policy   &lt;chr&gt; "E4"</span></span>
<span><span class="co">#&gt; $ loaddate              &lt;dbl&gt; 1.586355e+12</span></span>
<span><span class="co">#&gt; $ gnis_id               &lt;chr&gt; "1000889"</span></span>
<span><span class="co">#&gt; $ name                  &lt;chr&gt; "Cape Lookout National Seashore"</span></span>
<span><span class="co">#&gt; $ areasqkm              &lt;dbl&gt; 115.005</span></span>
<span><span class="co">#&gt; $ ftype                 &lt;int&gt; 674</span></span>
<span><span class="co">#&gt; $ fcode                 &lt;int&gt; 67400</span></span>
<span><span class="co">#&gt; $ admintype             &lt;int&gt; 1</span></span>
<span><span class="co">#&gt; $ ownerormanagingagency &lt;int&gt; 13</span></span>
<span><span class="co">#&gt; $ shape_length          &lt;dbl&gt; 233295.3</span></span>
<span><span class="co">#&gt; $ shape_area            &lt;dbl&gt; 171056451</span></span>
<span><span class="co">#&gt; $ gnis_name             &lt;chr&gt; "Cape Lookout National Seashore"</span></span>
<span><span class="co">#&gt; $ globalid              &lt;chr&gt; "{652E570E-C428-4697-AD09-120539C4B71F}"</span></span>
<span><span class="co">#&gt; $ geoms                 &lt;MULTIPOLYGON [m]&gt; MULTIPOLYGON (((-8468201 41...</span></span></code></pre></div>
<p>In some cases, an API key may be required for functions to work:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get Q2 2020 vehicle crash data for Cecil County, Maryland</span></span>
<span><span class="fu"><a href="reference/get_open_data.html">get_open_data</a></span><span class="op">(</span></span>
<span>  source_url <span class="op">=</span> <span class="st">"https://opendata.maryland.gov"</span>,</span>
<span>  data <span class="op">=</span> <span class="st">"65du-s3qu"</span>,</span>
<span>  where <span class="op">=</span> <span class="st">"(year = '2020') AND (quarter = 'Q2')"</span>,</span>
<span>  name_col <span class="op">=</span> <span class="st">"county_desc"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Cecil"</span>,</span>
<span>  token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"MARYLAND_OPEN_DATA_API_KEY"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You must set or provide an API token or key for <code><a href="reference/get_open_data.html">get_open_data()</a></code>, <code><a href="reference/get_airtable_data.html">get_airtable_data()</a></code>, <code><a href="reference/get_flickr_photos.html">get_flickr_photos()</a></code> to work. <code><a href="reference/get_gsheet_data.html">get_gsheet_data()</a></code> will require user authentication (handled automatically by the {googlesheets4} package).</p>
</div>
<div class="section level2">
<h2 id="helper-and-utility-functions">Helper and utility functions<a class="anchor" aria-label="anchor" href="#helper-and-utility-functions"></a>
</h2>
<p>The package also includes a handful of helper and wrapper functions designed that can be used for formatting, labelling, and other tasks.</p>
<p>For example, you can use <code><a href="reference/format_data.html">fix_epoch_date()</a></code> to convert columns with <a href="https://en.wikipedia.org/wiki/Unix_time" class="external-link">UNIX time</a> numeric values to POSIXct values:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nps_park</span><span class="op">[[</span><span class="st">"loaddate"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 1.586355e+12</span></span>
<span></span>
<span><span class="va">nps_park</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/format_data.html">fix_epoch_date</a></span><span class="op">(</span><span class="va">nps_park</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nps_park</span><span class="op">[[</span><span class="st">"loaddate"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "2020-04-08 10:03:28 EDT"</span></span></code></pre></div>
<p>You can use <code><a href="reference/format_data.html">make_variable_dictionary()</a></code> to make a custom dictionary:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/format_data.html">make_variable_dictionary</a></span><span class="op">(</span></span>
<span>  <span class="va">nps_park</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Geographic Names Information System identifier"</span>,</span>
<span>    <span class="st">"Park name"</span>,</span>
<span>    <span class="st">"Area (sq km)"</span>,</span>
<span>    <span class="st">"Geometry"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;  pos variable label                                          col_type missing</span></span>
<span><span class="co">#&gt;  1   gnis_id  Geographic Names Information System identifier chr      0      </span></span>
<span><span class="co">#&gt;  2   name     Park name                                      chr      0      </span></span>
<span><span class="co">#&gt;  3   areasqkm Area (sq km)                                   dbl      0      </span></span>
<span><span class="co">#&gt;  4   geoms    Geometry                                       s_MULTIP 0      </span></span>
<span><span class="co">#&gt;  values</span></span>
<span><span class="co">#&gt;        </span></span>
<span><span class="co">#&gt;        </span></span>
<span><span class="co">#&gt;        </span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>Or you can use <code><a href="reference/format_data.html">rename_with_xwalk()</a></code> to rename columns:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/format_data.html">rename_with_xwalk</a></span><span class="op">(</span></span>
<span>  <span class="va">nps_park</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  xwalk <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"gnis"</span> <span class="op">=</span> <span class="st">"gnis_id"</span>,</span>
<span>    <span class="st">"sq_km"</span> <span class="op">=</span> <span class="st">"areasqkm"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in xwalk == .x: longer object length is not a multiple of shorter</span></span>
<span><span class="co">#&gt; object length</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 3 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -8534392 ymin: 4107119 xmax: -8463797 ymax: 4173979</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / Pseudo-Mercator</span></span>
<span><span class="co">#&gt;      gnis                           name   sq_km                          geoms</span></span>
<span><span class="co">#&gt; 1 1000889 Cape Lookout National Seashore 115.005 MULTIPOLYGON (((-8468201 41...</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/elipousson/getdata/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/elipousson/getdata/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing getdata</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Eli Pousson <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0001-8280-1706" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://app.codecov.io/gh/elipousson/getdata?branch=main" class="external-link"><img src="https://codecov.io/gh/elipousson/getdata/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
